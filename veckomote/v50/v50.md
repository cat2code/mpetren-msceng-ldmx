# Mötesprotokoll exjobb – v50
**Datum:** 10/12-2025  
**Deltagare:** Eliot, Lene-Kristian  


---

## Projektets övergripande mål (jag kan föra in i måldok)
- Identifiera och separera partikelskurar i ECal vid multi-elektronhändelser.  
- Förbättra elektronräkning genom:
  - optimering av befintlig clustering (CLUE), och/eller  
  - utveckling av ML-baserad metod (t.ex. GNN).  
- På sikt koppla shower till information uppströms (TS) samt hantera pileup/tråkiga elektroner.

---

## Sammanfattning av nuläge (baserat på Ellas rapport)
- CLUE presterar bäst av nuvarande algoritmer.  
- Kända problemområden:
  - begränsad 3D-hantering (CLUE3D ej färdig)  
  - ...
- Potential för ML-metoder att förbättra segmentering och separation (?).

---

## Förslag på projektinriktningar (illustration)
### ML för att upptäcka cluster (vs CLUE-baseline)
- Parametertuning av CLUE.  
- ML-modul för att upptäcka/splitta merged clusters.  
- CLUE blir baseline jämförelse

### ML-driven shower-segmentering
- Fokus på multi-elektron events och pileup.
- Bygga GNN som gör cluster-identifiering.  
- Viss utvärdering mot CLUE-baseline och CLUE3D (?)  

---

### Nästa steg/nästa vecka
- Inleda med reproduktion av CLUE-resultat och datagenerering?
- Därefter välja huvudspår efter diskussion och tankar då

---

## Allmäna frågor o tankar
- Vilken av inriktningarna är mest angelägen för experimentet?  
- Krävs realtidsliknande prestanda eller räcker offline-analys?  
    - Olika händelser, olika algoritmer
    - Svåra händelser, ML och "enkla händelser", algoritmer


---

## Förslag på första konkreta steg
- Sätta upp ldmx-sw och återköra CLUE-analysen.  
- Skapa dataset för ML (hits + cluster-labels).  
- Definiera baseline-metoder och utvärderingsmetrik.  
- Skissa första ML-arkitektur (t.ex. EdgeConv/GraphSAGE).


- https://github.com/LDMX-Software/ldmx-sw/blob/trunk/.github/validation_samples/it_pileup/config.py
    - overalyproducer - pileup
    - ecal_cluster.EcalClusterProducer()
    - https://github.com/LDMX-Software/ldmx-sw/blob/trunk/Ecal/python/ecalClusters.py
    - https://github.com/LDMX-Software/ldmx-sw/blob/trunk/DQM/python/dqm.py
        - Ellas CLUE EcalClusterAnalyzer


* Till nästa vecka
    * CLUE
        * förklara innehållet i histogram från EcalClusterAnalyser
        * "gör fördelningarn för 1e, 2e, 3e - filer"
            * Köra på simuleringar som innehåller 1e, 2e, 3e. 
            * it_pileup kör 2e 
            * "gen_pileup.py"
            * finns i github eller ngt och den generar vanliga elektroner
            * byt ut "ecal_py" mot en "vanlig" simulering = pileup.root
            * kör pileup flera ggr för att generera 1, 2 och 3 elektroner
    * Efter ovan
        * Kanske kolla på vilka händelser som är svåra/enkla med existerande algoritmer och kod


---

## Avgränsning för 20 veckors projekt
- Två av följande tre delar prioriteras:
  1. CLUE-optimering  
  2. ML-baserad shower-segmentering  
  3. Pileup-identifiering  
- Fokus på robust elektronräkning och shower-separation.

---
